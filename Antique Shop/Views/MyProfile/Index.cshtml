@{
	ViewData["Title"] = "My Profile";
}
@{ 
    ViewBag.Title = "My Profile";
}
@{ 
    IEnumerable<Auction> auctions = ViewData["auctionList"] as IEnumerable<Auction>;
	Account account = ViewData["user"] as Antique_Shop.Models.Account;
}

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title></title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="jumbotron shadow-lg p-3 bg-white rounded">
                    <h3 class="text-dark">My Profile</h3>
                    <div>
                        <div class="row justify-content-center my-4">
                            <div class="mx-auto my-0">
                                <div class="input-group-prepend my-2">
                                    <span class="input-group-text"> <i class="fa fa-id-card"></i> </span><label class="ml-2 pt-2" style="max-width:150px;">@account.FirstName</label>
                                </div>
                                <div class="input-group-prepend my-2">
                                    <span class="input-group-text"> <i class="far fa-id-card"></i> </span><label class="ml-2 pt-2" style="max-width:150px;">@account.LastName</label>
                                </div>
                                <div class="input-group-prepend my-2">
                                    <span class="input-group-text"> <i class="fa fa-envelope"></i> </span><label class="ml-2 pt-2" style="max-width:150px;">@account.Email</label>
                                </div>
                                <div class="input-group-prepend my-2">
                                    <span class="input-group-text"> <i class="fas fa-phone"></i> </span><label class="ml-2 pt-2" style="max-width:150px;">@account.PhoneNumber</label>
                                </div>
                            </div>
                            <div class="mx-auto my-0">
                                <div class="input-group-prepend my-2">
                                    <span class="input-group-text"> <i class="fa fa-road"></i> </span><label class="ml-2 pt-2" style="max-width:150px;">@account.Street</label>
                                </div>
                                <div class="input-group-prepend my-2">
                                    <span class="input-group-text"> <i class="fas fa-home"></i> </span><label class="ml-2 pt-2" style="max-width:150px;">@account.ApartmentNumber</label>
                                </div>
                                <div class="input-group-prepend my-2">
                                    <span class="input-group-text"> <i class="fas fa-archive"></i> </span><label class="ml-2 pt-2" style="max-width:150px;">@account.Postcode</label>
                                </div>
                                <div class="input-group-prepend my-2">
                                    <span class="input-group-text"> <i class="fa fa-building"></i> </span><label class="ml-2 pt-2" style="max-width:150px;">@account.City</label>
                                </div>
                            </div>
                        </div>
                        <div class="row justify-content-center">
                            <form method="get" asp-controller="MyProfile" asp-action="EditPersonalData" class="mx-1">
                                <button id="Button" type="submit" name="submit" formmethod="get" class="btn btn-outline-dark btn-sm">Change data</button>
                            </form>
                            <form method="get" asp-controller="MyProfile" asp-action="EditEmail" class="mx-1">
                                <button id="Button" type="submit" name="submit" formmethod="get" class="btn btn-outline-dark btn-sm">Change email</button>
                            </form>
                            <form method="get" asp-controller="MyProfile" asp-action="EditPassword" class="mx-1">
                                <button id="Button" type="submit" name="submit" formmethod="get" class="btn btn-outline-dark btn-sm">Change password</button>
                            </form>
                            <form method="get" asp-controller="MyProfile" asp-action="CloseAccount" class="mx-1">
                                <button id="Button" type="submit" name="submit" formmethod="get" class="btn btn-outline-dark btn-sm">Close account</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="jumbotron shadow-lg p-3 bg-white rounded">
                    <h3 class="text-dark">Past Auctions</h3>
                    <div id="recipeCarousel" class="carousel slide w-100 row mx-auto my-auto" data-ride="carousel">
                        <div class="carousel-inner w-100 h-100 d-flex" role="listbox">
                            @foreach (var auction in auctions)
                            {
                                var imagePath = "~/images/" + (auction.ImagePath ?? "noimage.jpg");
                                <!--<div class="carousel-item mb-5">-->
                                <div class="col-md-4">
                                    <div class="card card-body">
                                        <form method="get" class="p-2">
                                            <button type="submit" asp-action="Details" asp-route-id="@auction.Id" asp-controller="Home">
                                                <img class="mx-auto" src="@imagePath" asp-append-version="true" width="100px">
                                            </button>
                                        </form>
                                    </div>
                                <!--</div>-->
                            </div>
                            }
                        </div>
                        <a class="carousel-control-prev w-auto" href="#recipeCarousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next w-auto" href="#recipeCarousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="jumbotron shadow-lg p-3 bg-white rounded">
                    <h3 class="text-dark">My Wallet</h3>
                    <div class="row justify-content-center my-4 text-dark">
                        20zł
                    </div>
                </div>
                <div class="jumbotron shadow-lg p-3 bg-white rounded">
                    <h3 class="text-dark">My Auctions</h3>
                    <div id="recipeCarousel" class="carousel slide w-100 row mx-auto my-auto" data-ride="carousel">
                        <div class="carousel-inner w-100 h-100 d-flex" role="listbox">
                            @foreach (var auction in auctions)
                            {
                                var imagePath = "~/images/" + (auction.ImagePath ?? "noimage.jpg");
                                <!--<div class="carousel-item mb-5">-->
                                <div class="col-md-4">
                                    <div class="card card-body">
                                        <form method="get" class="p-2">
                                            <button type="submit" asp-action="Details" asp-route-id="@auction.Id" asp-controller="Home">
                                                <img class="mx-auto" src="@imagePath" asp-append-version="true" width="100px">
                                            </button>
                                        </form>
                                    </div>
                                    <!--</div>-->
                                </div>
                            }
                        </div>
                        <a class="carousel-control-prev w-auto" href="#recipeCarousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next w-auto" href="#recipeCarousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
                <div class="jumbotron shadow-lg p-3 bg-white rounded">
                    <h3 class="text-dark">Lends and Borrows</h3>
                    <div id="recipeCarousel" class="carousel slide w-100 row mx-auto my-auto" data-ride="carousel">
                        <div class="carousel-inner w-100 h-100 d-flex" role="listbox">
                            @foreach (var auction in auctions)
                            {
                                var imagePath = "~/images/" + (auction.ImagePath ?? "noimage.jpg");
                                <!--<div class="carousel-item mb-5">-->
                                <div class="col-md-4">
                                    <div class="card card-body">
                                        <form method="get" class="p-2">
                                            <button type="submit" asp-action="Details" asp-route-id="@auction.Id" asp-controller="Home">
                                                <img class="mx-auto" src="@imagePath" asp-append-version="true" width="100px">
                                            </button>
                                        </form>
                                    </div>
                                    <!--</div>-->
                                </div>
                            }
                        </div>
                        <a class="carousel-control-prev w-auto" href="#recipeCarousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next w-auto" href="#recipeCarousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
   <script>
       let items = document.querySelectorAll('.carousel .carousel-item')

       items.forEach((el) => {
           // number of slides per carousel-item
           const minPerSlide = 4
           let next = el.nextElementSibling
           for (var i = 1; i < minPerSlide; i++) {
               if (!next) {
                   // wrap carousel by using first child
                   next = items[0]
               }
               let cloneChild = next.cloneNode(true)
               el.appendChild(cloneChild.children[0])
               next = next.nextElementSibling
           }
       })
   </script>
   <style>
        @@media (min-width: 768px) {

    .carousel-inner .carousel-item-end.active,
    .carousel-inner .carousel-item-next {
      transform: translateX(25%);
    }

    .carousel-inner .carousel-item-start.active,
    .carousel-inner .carousel-item-prev {
      transform: translateX(-25%);
    }
}

.carousel-inner .carousel-item-end,
.carousel-inner .carousel-item-start {
  transform: translateX(0);
}
   </style>
    <script type="text/javascript">

    </script>
</body>
</html>